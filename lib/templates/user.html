<div ng-init="u.init()"></div>

<div class="searchBar form-group">
        <div style="display: inline-block">
            <button class="btn btn-small btn-default" 
            ng-click="u.addUser()"
            ng-disabled="u.user[0].id === null"
            style="margin-left: 3px"><i class="fa fa-plus-circle"></i> New User</button>
         </div>
             <div style="display: inline-block; margin-left: 15px">
                 <input type="text" placeholder="search..." 
                        ng-change="u.userSearch()" ng-model="u.searchText"
                        class="form-control" style="width: 140px" />
             </div>    
         </div>    
</div>
<div class="leftPaneList">	
	<div style="margin: 5px" ng-show="u.usersLoading">
		<i class="fa fa-refresh fa-spin"></i>
	</div>	
	<div ng-repeat="user in u.users" style="margin-top: 5px">
		<p style="width: 150px">
			<span class="questionSelect"
             ng-click="u.userSelect(user)">{{user.firstName}} {{user.lastName}}</span>
		</p>
	</div>
</div>	

<div class="rightPaneEditor" ng-show="u.user !== null">
	<div class="rowContainer">
		<div class="leftLabel algTop">First Name*</div>
		<div class="rightContent">
			<input type="text" placeholder="First Name" ng-model="u.user.firstName" class="form-control" />
		</div>
	</div>
    <div class="rowContainer">
		<div class="leftLabel algTop">Last Name*</div>
		<div class="rightContent">
			<input type="text" placeholder="Last Name" ng-model="u.user.lastName" class="form-control" />
		</div>
	</div>
    <div class="rowContainer">
		<div class="leftLabel algTop">Email*</div>
		<div class="rightContent">
			<input type="text" placeholder="Email" ng-model="u.user.email" class="form-control" />
		</div>
	</div>
    <div class="rowContainer">
		<div class="leftLabel algTop">Phone</div>
		<div class="rightContent">
			<input type="text" placeholder="Phone" ng-model="u.user.telephones[0].number" class="form-control" />
		</div>
	</div>
    <div class="rowContainer">
		<div class="leftLabel algTop">Address</div>
		<div class="rightContent">
			<select class="form-control">
                <option value="Home">Home</option>
                <option value="Business">Business</option>
                <option value="Billing">Billing</option>
			</select>
		</div>
	</div>
    <div class="rowContainer">
		<div class="leftLabel algTop">Gender</div>
		<div class="rightContent">
			<select ng-model="u.user.gender" class="form-control">
                <option value="f">Female</option>
                <option value="m">Male</option>
			</select>
		</div>
	</div>
    <div class="rowContainer">
		<div class="leftLabel algTop">DOB</div>
		<div class="rightContent">
			<p class="input-group" style="width: 200px; margin-bottom: 0px">
          <input type="text" class="form-control" uib-datepicker-popup ng-model="u.user.dateOfBirth" 
                    is-open="u.dobOpen" 
                    close-text="Close" />
          <span class="input-group-btn">
            <button type="button" class="btn btn-default" ng-click="u.dobOpen = true;">
                <i class="glyphicon glyphicon-calendar"></i>
            </button>
          </span>
        </p>
		</div>
	</div>
    <div class="rowContainer">
		<div class="leftLabel algTop">Nationality</div>
		<div class="rightContent">
			<select ng-model="u.user.nationalityId" 
                    ng-options="nat as nat.name for nat in u.nationalities track by nat.id"
                    class="form-control">
                <option value=""></option>
            </select>
		</div>
	</div>
    <div class="rowContainer">
		<div class="leftLabel algTop">Password</div>
		<div class="rightContent">
			<input type="password" class="form-control" ng-model="u.user.password">
		</div>
	</div>
   <div class="rowContainer">
		<div class="leftLabel algTop">Password Confirmation</div>
		<div class="rightContent">
			<input type="password" class="form-control" ng-model="u.user.passwordConfirmation">
		</div>
	</div>
    <div class="rowContainer">
		<div class="leftLabel algTop"></div>
		<div class="rightContent">
			<button class="btn btn-sm btn-primary" 
                ng-click="u.save()"
                ng-disabled="u.userProcessing"
                title="Save User">
                Save
            </button>    
            <button class="btn btn-sm btn-default" 
                style="margin-left: 5px"
                ng-click="u.cancel()"
                ng-disabled="u.userProcessing"
                ng-show="u.users[0].id === null">
                Cancel
            </button>  
            <button class="btn btn-sm btn-default" 
                style="margin-left: 5px"
                ng-click="u.delete()"
                ng-disabled="u.userProcessing"
                ng-show="u.user.id !== null">
                Delete
            </button>  
		</div>
	</div>
</div>